{% extends 'base_layout.html' %}

{% block title %}404 - Page Not Found{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-900 to-blue-900 flex items-center justify-center px-4 sm:px-6 lg:px-8 relative overflow-hidden">
  <!-- Animated background elements -->
  <div class="absolute inset-0 overflow-hidden">
    <div class="absolute -top-20 -left-20 w-72 h-72 bg-blue-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob"></div>
    <div class="absolute top-1/3 -right-20 w-96 h-96 bg-purple-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-2000"></div>
    <div class="absolute bottom-20 left-1/4 w-80 h-80 bg-indigo-600 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-blob animation-delay-4000"></div>
  </div>

  <!-- Floating particles -->
  <div class="particles-container absolute inset-0 overflow-hidden pointer-events-none">
    {% for i in range(15) %}
    <div class="particle absolute rounded-full bg-white/10" style="
      width: {{ range(2, 6)|random }}px;
      height: {{ range(2, 6)|random }}px;
      top: {{ range(0, 100)|random }}%;
      left: {{ range(0, 100)|random }}%;
      animation: float {{ range(10, 25)|random }}s linear infinite;
      animation-delay: -{{ range(0, 15)|random }}s;
    "></div>
    {% endfor %}
  </div>

  <!-- Main content -->
  <div class="relative z-10 text-center max-w-2xl w-full">
    <!-- Glass card -->
    <div class="glass-card bg-white/5 backdrop-blur-lg rounded-2xl shadow-xl overflow-hidden border border-white/10 p-8 sm:p-10 transition-all duration-500 transform hover:scale-[1.01]">
      <!-- Animated 404 text -->
      <div class="relative mb-8">
        <h1 class="text-9xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-pink-600 mb-4">
          <span class="number-animation">4</span>
          <span class="number-animation animation-delay-100">0</span>
          <span class="number-animation animation-delay-200">4</span>
        </h1>
        <div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-red-500 to-pink-600 rounded-full"></div>
      </div>

      <h2 class="text-3xl font-bold text-white mb-4">Page Not Found</h2>
      <p class="text-lg text-blue-200 mb-6 max-w-md mx-auto">
        Oops! The page you're looking for doesn't exist or has been moved.
      </p>
      <p class="text-sm text-blue-300 mb-8">
        Don't worry, let's get you back on track.
      </p>

      <!-- Interactive button with ripple effect -->
      <div class="relative inline-block overflow-hidden">
        <a href="{{ url_for('home.index') }}" 
           class="relative overflow-hidden group inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-md transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transition-transform group-hover:-translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
          </svg>
          Return to Homepage
          <span class="ripple"></span>
        </a>
      </div>

      <!-- Search suggestion -->
      <div class="mt-8 pt-6 border-t border-white/10">
        <p class="text-sm text-blue-300 mb-3">Or try searching for what you need:</p>
        <div class="relative max-w-xs mx-auto">
          <input type="text" placeholder="Search..." class="w-full bg-white/10 border border-white/20 rounded-lg py-2 px-4 text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
          <button class="absolute right-2 top-1/2 transform -translate-y-1/2 text-blue-300 hover:text-white">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Footer note -->
    <p class="text-center text-blue-300 text-xs mt-8">
      Need help? <a href="#" class="text-white hover:underline">Contact support</a>
    </p>
  </div>
</div>

<style>
  /* Blob background animation */
  @keyframes blob {
    0%, 100% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -50px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
  }
  
  /* Particle floating animation */
  @keyframes float {
    0% { transform: translateY(0) translateX(0); }
    50% { transform: translateY(-20px) translateX(10px); }
    100% { transform: translateY(0) translateX(0); }
  }
  
  /* Number animation */
  @keyframes numberFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }
  
  /* Ripple effect */
  @keyframes ripple {
    0% { transform: scale(0); opacity: 1; }
    100% { transform: scale(4); opacity: 0; }
  }
  
  /* Applied animations */
  .animate-blob { animation: blob 7s infinite; }
  .animation-delay-100 { animation-delay: 0.1s; }
  .animation-delay-200 { animation-delay: 0.2s; }
  .animation-delay-2000 { animation-delay: 2s; }
  .animation-delay-4000 { animation-delay: 4s; }
  .particle { animation: float 15s infinite linear; }
  .number-animation { 
    display: inline-block;
    animation: numberFloat 3s ease-in-out infinite; 
  }
  
  /* Glass card effect */
  .glass-card {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }
  
  /* Ripple element */
  .ripple {
    position: absolute;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.3);
    transform: scale(0);
    animation: ripple 0.6s linear;
    pointer-events: none;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Ripple effect for buttons
    document.querySelector('a[href="{{ url_for('home.index') }}"]').addEventListener('click', function(e) {
      // Create ripple
      const ripple = document.createElement('span');
      ripple.classList.add('ripple');
      
      // Position ripple
      const rect = this.getBoundingClientRect();
      const size = Math.max(rect.width, rect.height);
      ripple.style.width = ripple.style.height = `${size}px`;
      ripple.style.left = `${e.clientX - rect.left - size/2}px`;
      ripple.style.top = `${e.clientY - rect.top - size/2}px`;
      
      // Add ripple to button
      this.appendChild(ripple);
      
      // Remove ripple after animation
      setTimeout(() => {
        ripple.remove();
      }, 600);
    });

    // Mouse parallax effect
    let timeout;
    document.querySelector('.glass-card').addEventListener('mousemove', (e) => {
      clearTimeout(timeout);
      const x = e.clientX / e.currentTarget.offsetWidth;
      const y = e.clientY / e.currentTarget.offsetHeight;
      
      e.currentTarget.style.transform = `
        perspective(1000px)
        rotateX(${(y - 0.5) * 5}deg)
        rotateY(${(x - 0.5) * -5}deg)
        scale(1.01)
      `;
      
      // Reset after inactivity
      timeout = setTimeout(() => {
        e.currentTarget.style.transform = 'scale(1.01)';
      }, 1000);
    });

    // Animate numbers sequentially
    const numbers = document.querySelectorAll('.number-animation');
    numbers.forEach((num, index) => {
      num.style.animationDelay = `${index * 0.1}s`;
    });
  });
</script>
{% endblock %}